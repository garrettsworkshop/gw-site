	<html>
<head>
	<title>Garrett's Workshop - RW Timing</title>
	<style type="text/css">
		ul {
			margin-top: 0;
		}
		h3 {
			margin-bottom: 0;
		}
		h2, h4 {
			margin-bottom: 3px;
		}
		h3 + h4 {
			margin-top:6px;
		}
		p {
			margin-top:0;
		}
		ul li {
			padding-top: 3px;
		}
		ul li sup {
			line-height: 0;
		}
	</style>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/skins/default.js" type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/wavedrom.min.js" type="text/javascript"></script>
</head>

<body onload="WaveDrom.ProcessAll()">
<h1>RW</h1>

<script type="WaveDrom">{signal: [
{name: 'C14M',							wave: 'p................',		phase: 0.00, period: 1},
{name: 'PHI1',							wave: '10......1......0.',		phase: 0.00, period: 1},
{name: 'S',									wave: '22222222222222222',		phase: 0.00, period: 1, data:[
  'X','1','2','3','4','5','6','7','8','9','A','B','C','D','E','1','2']},
{name: '/RAS',							wave: '1...2.12.1.0.1...',		phase: 0.00, period: 1},
{name: 'A',									wave: '2.2.2....2.2....2',		phase:-0.50, period: 1, data:[
  'vid col','cpu row','cpu col','vid row','vid col']},
{name: '/WE',								wave: '1..2..1..........',		phase: 0.00, period: 1},
{name: '/CAS',							wave: '0.1..0....1.0...1',		phase: 0.00, period: 1},
{name: '/OE',								wave: '01..2.....0....1.',		phase: 0.00, period: 1},
]}
</script><br/><p>
</p>


<script type="text/javascript">
document.querySelectorAll('script[type=wavedrom]').forEach(function(dgm) {
	var dj;
	eval('dj = ' + dgm.text + ';');
	var lines = {};
	var table = {};
	dj.signal.forEach(function(line) {
		lines[line.name] = '';
		for (var symbol = 0; symbol < line.wave.length; symbol++) {
			for (var reps = 0; reps < line.period / 0.5; reps++) {
				if (line.wave.charAt(symbol) === '.' ||
					line.wave.charAt(symbol) === '|') { 
					var previndex = lines[line.name].charAt.length-1;
					
					if (previndex <= 0) {
						lines[line.name] += '1';
					} else {
						lines[line.name] += lines[line.name].charAt(previndex);
					}
				} else {
					lines[line.name] += line.wave.charAt(symbol);
				}
			}
		}
		//alert(lines[line.name]);
	});
});
</script>

</body>

</html>
